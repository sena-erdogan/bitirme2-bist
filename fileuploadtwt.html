<!DOCTYPE html>
<html>

<head>
  <title>Twitter Dosya Yükleme</title>
  <!-- Favicon -->
  <link rel="shortcut icon" href="{{url_for('static', filename='images/borsa_istanbul_logo.png')}}">
</head>

<body>
  <style>
    header {
      text-align: center;
    }

    header h1 {
      margin: 0; /* Optional: Remove default margin */
    }
  </style>
  <header>
    <br><h1>Dosya Yükleme Twitter</h1><br>
  </header>
  <div id="dropzone">
    <p>Drag and drop a file here or click to select a file:</p>
    <input type="file" id="fileinput">
  </div>

  <form id="dataForm">
    <div>
      <label for="date">Date:</label>
      <input type="text" id="date" name="date" required>
    </div>

    <div>
      <label for="tweet_id">Tweet ID:</label>
      <input type="text" id="tweet_id" name="tweet_id" required>
    </div>

    <div>
      <label for="followers">Followers:</label>
      <input type="text" id="followers" name="followers" required>
    </div>

    <div>
      <label for="message_date">Message Date:</label>
      <input type="text" id="message_date" name="message_date" required>
    </div>

    <div>
      <label for="retweet_count">Retweet Count:</label>
      <input type="text" id="retweet_count" name="retweet_count" required>
    </div>

    <div>
      <label for="username">Username:</label>
      <input type="text" id="username" name="username" required>
    </div>

    <div>
      <label for="message_detail">Message Detail:</label>
      <textarea id="message_detail" name="message_detail" required></textarea>
    </div>

    <button type="submit" id="submitBtn" disabled>Submit</button>
  </form>

  <script>
    var dropzone = document.getElementById('dropzone');
    var fileinput = document.getElementById('fileinput');
    var dataForm = document.getElementById('dataForm');
    var submitBtn = document.getElementById('submitBtn');

    dropzone.ondragover = function () {
      this.classList.add('dragover');
      return false;
    };

    dropzone.ondragleave = function () {
      this.classList.remove('dragover');
      return false;
    };

    dropzone.ondrop = function (event) {
      this.classList.remove('dragover');
      event.preventDefault();
      var file = event.dataTransfer.files[0];
      fileinput.files = event.dataTransfer.files;
      console.log('File dropped:', file.name);
    };

    fileinput.onchange = function (event) {
      var file = event.target.files[0];
      console.log('File selected:', file.name);
    };

    dataForm.addEventListener('submit', function (event) {
      event.preventDefault();
      var formData = new FormData(this);
      console.log('Form submitted:', Object.fromEntries(formData));
      // Perform further processing or send the form data to the server
    });

    // Enable or disable the submit button based on form validity
    dataForm.addEventListener('input', function () {
      submitBtn.disabled = !dataForm.checkValidity();
    });
  </script>

  <style>
    #dropzone {
      padding: 20px;
      border: 2px dashed #ccc;
      border-radius: 10px;
      cursor: pointer;
    }

    #dropzone.dragover {
      background-color: #f0f0f0;
    }

    div {
      margin-bottom: 10px;
    }
  </style>
</body>

</html>